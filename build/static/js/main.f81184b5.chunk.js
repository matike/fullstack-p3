(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(11),u=t.n(r),o=t(2),c=function(e){return l.a.createElement("div",null," rajaa n\xe4ytett\xe4vi\xe4: ",l.a.createElement("input",{value:e.Filter,onChange:e.handleFilterChange}))},i=function(e){return l.a.createElement("form",{onSubmit:e.addPerson},l.a.createElement("div",null," nimi: ",l.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),l.a.createElement("div",null,"puhelinnumero: ",l.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),l.a.createElement("div",null," ",l.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){var n=e.personsToShow,t=e.removePerson;return n.map(function(e){return l.a.createElement("li",{key:e.name}," ",e.name," ",e.number," ",l.a.createElement("button",{onClick:function(){return t(e.id)}},"poista"))})},s=function(e){var n=e.message;return null===n?null:l.a.createElement("div",{className:"success"},n)},f=t(3),d=t.n(f),h="http://localhost:3001/api/persons",p=function(){return d.a.get(h).then(function(e){return e.data})},g=function(e){return d.a.post(h,e).then(function(e){return e.data})},v=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},E=function(e){e.props;var n=Object(a.useState)([]),t=Object(o.a)(n,2),r=t[0],u=t[1],f=Object(a.useState)(""),d=Object(o.a)(f,2),h=d[0],E=d[1],b=Object(a.useState)(""),w=Object(o.a)(b,2),j=w[0],O=w[1],C=Object(a.useState)(""),N=Object(o.a)(C,2),S=N[0],P=N[1],k=Object(a.useState)(null),y=Object(o.a)(k,2),F=y[0],T=y[1];Object(a.useEffect)(function(){console.log("effect"),p().then(function(e){console.log("promise fulfilled"),u(e)})},[]),console.log("render",r.length,"notes");var J=r.filter(function(e){return e.name.includes(S)});return l.a.createElement("div",null,l.a.createElement("h2",null,"Puhelinluettelo"),l.a.createElement(s,{message:F}),l.a.createElement(c,{Filter:S,handleFilterChange:function(e){P(e.target.value)}}),l.a.createElement("h1",null,"lis\xe4\xe4 uusi"),l.a.createElement(i,{addPerson:function(e){e.preventDefault(),console.log("nappia painettu",e.target);var n={name:h,number:j};r.some(function(e){return e.name===h})?window.alert("".concat(h," on jo luettelossa")):g(n).then(function(e){u(r.concat(e)),E(""),T("Lis\xe4ttiin '".concat(n.name,"' ")),setTimeout(function(){T(null)},5e3)})},newName:h,newNumber:j,handleNumberChange:function(e){console.log(e.target.value),O(e.target.value)},handleNameChange:function(e){console.log(e.target.value),E(e.target.value)}}),l.a.createElement("h2",null,"Numerot"),l.a.createElement("ul",null,l.a.createElement(m,{personsToShow:J,removePerson:function(e){console.log("nappia painettu",e);var n=r.find(function(n){return n.id===e});!0===window.confirm("Poistetaanko ".concat(n.name))&&v(e).then(function(){u(r.filter(function(n){return n.id!==e}))})}})))};t(37);u.a.render(l.a.createElement(E,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.f81184b5.chunk.js.map